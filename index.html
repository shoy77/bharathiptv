<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bharath Live TV</title>
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.0"></script>
<style>
  body {
    margin:0; background:#111; color:#fff; font-family:Arial, sans-serif; 
    display:flex; flex-direction:column; height:100vh;
  }
  header, footer {
    background:#000; text-align:center; padding:12px; font-weight:bold;
    font-size:16px; letter-spacing:1px;
  }
  .player-wrap { 
    position:relative; width:100%; flex:0 0 auto; max-height:45vh; 
    background:#000; 
  }
  .player-wrap::before { content:''; display:block; padding-top:56.25%; }
  video { 
    position:absolute; top:0; left:0; width:100%; height:100%; background:black; 
  }
  .channels {
    flex:1; overflow-y:auto; background:#181818;
  }
  .channel {
    display:flex; align-items:center; justify-content:space-between;
    padding:12px 16px; border-bottom:1px solid #222; cursor:pointer;
    transition: background 0.2s;
  }
  .channel:hover { background:#333; }
  .channel.active { background:#2196f3; }
  .channel span { font-size:14px; }
  .lang { color:#aaa; font-size:12px; }
  footer { font-size:12px; color:#bbb; }
</style>
</head>
<body>

<header>
  ðŸ“º Bharath Live TV
</header>

<div class="player-wrap">
  <video id="video" controls playsinline></video>
</div>

<div class="channels" id="channelList"></div>

<footer>
  Â© 2025 Bharath TV | Swipe / Tap channel to play
</footer>

<script>
const channels = [
  { name: "Moviesphere", lang:"EN", url: "https://moviesphereuk-samsunguk.amagi.tv/playlist.m3u8" },
  { name: "Sports Live", lang:"EN", url: "https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8" },
  { name: "Music TV", lang:"HI", url: "https://mnmedias.api.telequebec.tv/m3u8/29880.m3u8" },
  { name: "News 24", lang:"EN", url: "https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8" }
];

const video = document.getElementById("video");
const list = document.getElementById("channelList");
let hls;

function loadChannel(index) {
  const ch = channels[index];
  if (hls) { hls.destroy(); hls = null; }
  if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = ch.url;
  } else if (Hls.isSupported()) {
    hls = new Hls();
    hls.loadSource(ch.url);
    hls.attachMedia(video);
  }
  video.play();

  [...list.children].forEach((row, i) => {
    row.classList.toggle("active", i === index);
  });
}

channels.forEach((ch, i) => {
  const row = document.createElement("div");
  row.className = "channel";
  row.innerHTML = `<span>${ch.name}</span><span class="lang">${ch.lang}</span>`;
  row.onclick = () => loadChannel(i);
  list.appendChild(row);
});

loadChannel(0);
</script>

</body>
</html>
